\chapter{Pøílohy}
\label{pr:a}
\section*{A. Gramatika arc souboru} 
\texttt{arc\_file == <<version\_block>><<rest\_of\_arc\_file>>\\
version\_block == See definition below\\
rest\_of\_arc\_file == <<doc>>|<<doc>><<rest\_of\_arc\_file>>\\
doc == <<nl>><<URL-record>><<nl>><<network\_doc>>\\
URL-record == See definition below\\
network\_doc == whatever the protocol returned\\
nl == Unix-newline-delimiter\\
sp == (ascii space) comma is inappropriate because it can be in an URL.\\}
\label{pr:b}
\section*{B. Arc version block verze 2}
\subsection*{Vysvìtlivky }
\texttt{version-number == integer in ascii \\
reserved == string with no white space \\
origin-code == Name of gathering organization with no white space\\
URL-record-definition == names of fields in URL records}
\subsection*{Pøíklad}
\texttt{version-2-block == filedesc://<<path>><<sp>><<ip\_address>>\\<<sp>><<date>><<sp>>text/plain<<sp>>200<<sp>> \\
-<<sp>>-<<sp>>0<<sp>><<filename>><<sp>><<length>><<nl>> \\
2<<sp>><<reserved>><<sp>><<origin-code>><<nl>> \\
URL<<sp>>IP-address<<sp>>Archive-date<<sp>>Content-type\\<<sp>>Result-code<<sp>>Checksum\\<<sp>>Location<<sp>>Offset<<sp>>Filename\\<<sp>>Archive-length<<nl>>
<<nl>> }
\label{pr:c}
\section*{C. Arc url record verze 2}
\subsection*{Vysvìtlivky}
\texttt{url == ascii URL string (e.g., "http://www.alexa.com:80/") \\
ip\_address == dotted-quad (eg 192.216.46.98 or 0.0.0.0) \\
archive-date == date archived \\
content-type == "no-type"|MIME type of \\ \indent data (e.g., "text/html") \\
length == ascii representation of size of \\ \indent network doc in bytes \\
date == YYYYMMDDhhmmss (Greenwich Mean Time) \\
result-code == result code or response \\ \indent code, (e.g. 200 or 302) \\
checksum == ascii representation of a checksum of the data. \\ \indent The specifics of the checksum are implementation specific. \\
location == "-"|url of re-direct \\
offset == offset in bytes from beginning of file \\ \indent to beginning of URL-record \\
filename == name of arc file}
\subsection*{Pøíklad}
\texttt{URL-record-v2 == <<url>><<sp>> \\
<<ip-address>><<sp>> \\
<<archive-date>><<sp>> \\
<<content-type>><<sp>> \\
<<result-code>><<sp>> \\
<<checksum>><<sp>> \\
<<location>><<sp>> \\
<<offset>><<sp>> \\
<<filename>><<sp>> \\
<<length>><<nl>> }
\label{pr:d}
\section*{D. Pøíklad arc souboru verze 2}
\texttt{filedesc://IA-001102.arc 0.0.0.0 19960923142103 \\ \indent text/plain 200 - - 0 \\
IA-001102.arc 122 \\
2 0 Alexa Internet \\ \\
URL IP-address Archive-date Content-type Result-code \\ Checksum 
Location Offset Filename Archive-length \\
http://www.dryswamp.edu:80/index.html 127.10.100.2 \\ \indent 19961104142103 
text/html 200 \\ \indent fac069150613fe55599cc7fa88aa089d - 209 IA-001102.arc 202 \\
HTTP/1.0 200 Document follows \\
Date: Mon, 04 Nov 1996 14:21:06 GMT \\
Server: NCSA/1.4.1 \\
Content-type: \\ \indent text/html Last-modified: Sat,10 Aug 1996 22:33:11 GMT \\
Content-length: 30 \\
<<HTML>> \\
Hello World!!! \\
<</HTML>>}
\label{pr:e}
\section*{E. Arc soubor vytvoøený pomocí crawleru Heritrix}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{IAH-20110905093545-00000-kovar-laptop-8090.arc.gz}.
\label{pr:f}
\section*{F. Výstup z programu JHOVE pro pøilo¾ený arc soubor}
Výstup pro soubor dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{IAH-20110905093545-00000-kovar-laptop-8090.arc.gz}.
\subsection*{Pøíklad}
\texttt{Jhove (Rel. 1.6, 2011-01-04) \\
Date: 2011-09-05 15:14:13 CEST \\
\indent RepresentationInformation: \\./IAH-20110905093545-00000-kovar-laptop-8090.arc.gz \\
ReportingModule: BYTESTREAM, Rel. 1.3 (2007-04-10) \\
LastModified: 2011-09-05 12:40:13 CEST \\
Size: 74389018 \\
Format: bytestream \\
Status: Well-Formed and valid \\
MIMEtype: application/octet-stream}
\label{pr:g}
\section*{G. Výstup z programu JHOVE2 pro pøilo¾ený arc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{IAH-20110905093545-00000-kovar-laptop-8090.arc.gz\_jhove2output.xml}.
\label{pr:h}
\section*{H. Ukázka CDX indexu pro arc soubor}
Celý CDX soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{index.cdx}.
\subsection*{Pøíklad}
\texttt{127.0.0.1/amk\_new/\\ 20110905093547\\ http://127.0.0.1/amk\_new/\\ text/html\\ 200\\ O5DWG2NMAMAAW7JSGZE3BQ64J7VWCYO3 - -\\ 1056 IAH-20110905093545-00000-kovar-laptop-8090.arc.gz}
\label{pr:i}
\section*{I. Warc -- metadata record}
\texttt{WARC/0.18 \\
WARC-Type: metadata \\
WARC-Target-URI: http://www.archive.org/images/logoc.jpg \\
WARC-Date: 2006-09-19T17:20:24Z \\
WARC-Record-ID: \\ \indent <<urn:uuid:16da6da0-bcdc-49c3-927e-57494593b943>> \\
WARC-Concurrent-To: \\ \indent <<urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>> \\
Content-Type: application/warc-fields \\
WARC-Block-Digest: sha1:UZY6ND6CCHXETFVJD2MSS7ZENMWF7KQ2 \\
Content-Length: 59 \\
\\
via: http://www.archive.org/ \\
hopsFromSeed: E \\
fetchTimeMs: 565 }
\label{pr:j}
\section*{J. Warc -- request record}
\texttt{WARC/0.18 \\
WARC-Type: request \\
WARC-Target-URI: http://www.archive.org/images/logoc.jpg \\
WARC-Warcinfo-ID: \\ \indent <<urn:uuid:d7ae5c10-e6b3-4d27-967d-34780c58ba39>> \\
WARC-Date: 2006-09-19T17:20:24Z \\
Content-Length: 236 \\
WARC-Record-ID: \\ \indent <<urn:uuid:4885803b-eebd-4b27-a090-144450c11594>> \\
Content-Type: application/http;msgtype=request \\
WARC-Concurrent-To: \\ \indent <<urn:uuid:92283950-ef2f-4d72-b224-f54c6ec90bb0>> \\
GET /images/logoc.jpg HTTP/1.0 \\
User-Agent: Mozilla/5.0 (compatible; heritrix/1.10.0) \\
From: stack@example.org \\
Connection: close \\
Referer: http://www.archive.org/ \\
Host: www.archive.org \\
Cookie: PHPSESSID=009d7bb11022f80605aa87e18224d824 }
\label{pr:k}
\section*{K. Warc -- warcinfo record}
\texttt{WARC/0.18 \\
WARC-Type: warcinfo 
WARC-Date: 2006-09-19T17:20:14Z \\
WARC-Record-ID: \\ \indent <<urn:uuid:d7ae5c10-e6b3-4d27-967d-34780c58ba39>> \\
Content-Type: application/warc-fields \\
Content-Length: 381 \\
software: Heritrix 1.12.0 http://crawler.archive.org \\
hostname: crawling017.archive.org \\
ip: 207.241.227.234 \\
isPartOf: testcrawl-20050708 \\
description: testcrawl with WARC output \\
operator: IA\_Admin \\
http-header-user-agent: \\ \indent Mozilla/5.0 \\ \indent (compatible; heritrix/1.4.0 +http://crawler.archive.org) \\
format: WARC file version 0.18 \\
conformsTo: \\ \indent http://www.archive.org/documents/WarcFileFormat-0.18.html}
\label{pr:l}
\section*{L. Warc soubor vytvoøený z pøilo¾eného arc souboru pomocí nástroje WARC-TOOLS}
\label{pr:m}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{WARCTOOLS\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz}.
\section*{M. Warc soubor vytvoøený z pøilo¾eného arc souboru pomocí nástroje WARC-TOOLS / hanzo}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{HANZO\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz}.
\label{pr:n}
\section*{N. Warc soubor vytvoøený z pøilo¾eného arc souboru pomocí nástroje WARC-TOOLS / kpk09}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{KPK09\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz}.
\label{pr:o}
\section*{O. Výstup z programu JHOVE2 pro pøilo¾ený warc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{WARCTOOLS\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz\_jhove2output.xml}. 
\label{pr:p}
\section*{P. Popis standardu WARC}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{WARC\_Guidelines\_v1.pdf}.
\label{pr:q}
\section*{Q. Mailová korespondence s pracovníky British library}
Soubory jsou dostupné jako elektronická pøíloha bakaláøské práce. Pod názvem \texttt{british\_library\_mail1} jsou informace, které dostal Ing. Libor Coufal. Pod názvem \texttt{british\_library\_mail2} jsou informace, které psali pøímo mì. Pod názvem \texttt{british\_library\_mail3} jsou informace, které jsem od pracovníkù po¾adoval ohlednì deduplikace souborù.
\label{pr:r}
\section*{R. WARCTOOLS -- Functional Requirements Specification v8}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc-tools\_phase\_III\_frs\_v8.pdf}.
\label{pr:s}
\section*{S. WARCTOOLS -- Functional Requirements Specification }
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc\_tools\_frs.pdf}.
\label{pr:t}
\section*{T. WARCTOOLS -- Non-Functional Requirements }
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc\_tools\_nfr.pdf}.
\label{pr:u}
\section*{U. WARCTOOLS -- Software Requirements Specification}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc\_tools\_srs.pdf}.
\label{pr:v}
\section*{V. WARCTOOLS -- výstup z nástroje warcdump pro warc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{WARCTOOLS\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz\_warcdump}.
\label{pr:w}
\section*{W. WARCTOOLS / hanzo -- README soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warctools\_hanzo\_README}.
\section*{X. WARCTOOLS / hanzo -- výstup z nástroje warcdump pro warc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{HANZO\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz\_warcdump}.
\section*{Y. WARCTOOLS / hanzo -- výstup z programu JHOVE2 pro pøilo¾ený warc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{HANZO\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz\_jhove2output.xml}.
\section*{Z. WARCTOOLS / kpk09 -- README soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warctools\_kpk09\_README}.
\section*{AA. WARCTOOLS / kpk09 -- výstup z nástroje warcdump pro warc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{KPK09\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz\_warcdump}.
\section*{AB. WARCTOOLS / kpk09 -- výstup z programu JHOVE2 pro pøilo¾ený warc soubor}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{KPK09\_IAH-20110905093545-00000-kovar-laptop-8090.warc.gz\_jhove2output.xml}.
\section*{AC. WARCTOOLS -- archiv obsahující nástroj}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc-tools.tar.gz}.
\section*{AD. WARCTOOLS / hanzo -- archiv obsahující nástroj} \label{sec:ad}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc-tools\_hanzo.tar.gz}.
\section*{AE. WARCTOOLS / kpk09 -- archiv obsahující nástroj}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{warc-tools\_kpk09.tar.gz}.
\section*{AF. JHOVE2 -- u¾ivatelská pøíruèka nástroje}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{JHOVE2-Users-Guide\_20110222.pdf}.
\section*{AG. JHOVE2 -- informace o aktualizace nástroje}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{NDIIPP-2010-JHOVE2.pdf}.
\section*{AH. JHOVE2 -- archiv obsahující nástroj}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{jhove2-2.0.0.tar.gz}.
\section*{AI. Jpype -- archiv obsahující nástroj} \label{sec:ai}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{JPype-0.5.4.2.zip}.
\section*{AJ. Warc -- ISO specifikace}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{WARC\_ISO\_28500\_final\_draft v018 Zentveld 08061.doc}. Soubor je také dostupný online na adrese \texttt{http://archive-access.sourceforge.net/warc/}.
\section*{AK. JHOVE2 -- vlastní implementace nástroje}
Celý soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{RunFromARC2WARC.java}. V rámci projektu nástroje JHOVE2 musí být souèásti package org.jhove2.app. Zde ukazuji pouze metodu tøídy (runJHOVE2), která obstarává pøímo spu¹tìní. \\
\texttt{/**\\
** Metoda dostane na vstup seznam souborù, které \\ \indent pøedá ke zpracování\\
** aplikaci JHOVE2 a nakonec na vypí¹e do zadaného souboru \\ \indent výstup z JHOVE2.\\
** @param contents Pole cest k souborùm\\
** @param path Cesta k souboru, do kterého se mají \\ \indent vypsat informace\\
** @throws IOException\\
** @throws JHOVE2Exception \\
**/
\\
public void runJHOVE2(String contents[], String path) throws IOException, JHOVE2Exception\\
\{\\
\indent OutputStream output = new FileOutputStream("/dev/null");\\
\indent PrintStream nullOut = new PrintStream(output);\\
\indent System.setErr(nullOut);\\
\indent System.setOut(nullOut);\\
\indent String[] data = {"-o", path, "-d", "XML"};\\
\indent String[] seznam = arrayMerge(data, contents);\\
\\
JHOVE2CommandLine.main(seznam);\\
\} }
\section*{AL. WARCTOOLS / hanzo -- vlastní implementace nástroje}
Soubor je dostupný jako elektronická pøíloha bakaláøské práce pod názvem \texttt{arc2warc\_jhove2.py}. Aby správnì fungoval, je potøeba mít nainstalován nástroj Jpype (\texttt{pøíloha AI \ref{sec:ai}}) a umístit soubor do koøenové slo¾ky WARCTOOLS / hanzo (\texttt{pøíloha AD \ref{sec:ad}}).
\section*{AM. Warc -- gramatika}
\texttt{Warc-file = 1*warc-record \\
warc-record = header CRLF \\
block CRLF CRLF \\
header =version warc-fields \\
version ="WARC/0.18" CRLF \\
warc-fields =*named- field CRLF\\
block = * OCTET}
\section*{AN. Warc -- seznam definovaných polí}
\texttt{WARC-Type, WARC-Record-ID, WARC-Date, Content-Length, Content-Type, WARC-Concurrent-To, WARC-Block-Digest, WARC-Payload-Digest, WARC-IP-Address, WARC-Refers-To, WARC-Target-URI, WARC-Truncated, WARC-Warcinfo-ID, WARC-Filename, WARC-Profile, WARC-Identified-Payload-Type, WARC-Segment-Origin-ID, WARC-Segment-Number, WARC-Segment-Total-Length}
\section*{AO. Warc -- Continuation record}
\subsection*{První warc záznam}
\texttt{WARC/0.18 \\
WARC-Type: response \\
WARC-Target-URI: http://www.archive.org/images/logoc.jpg \\
WARC-Date: 2006-09-19T17:20:24Z \\
WARC-Block-Digest: sha1:2ASS7ZUZY6ND6CCHXETFVJDENAWF7KQ2 \\
WARC-Payload-Digest: sha1:CCHXETFVJD2MUZY6ND6SS7ZENMWF7KQ2 \\
WARC-IP-Address: 207.241.233.58 \\
WARC-Record-ID: \\ \indent <<urn:uuid:39509228-ae2f-11b2-763a-aa4c6ec90bb0>> \\
WARC-Segment-Number: 1 \\
Content-Type: application/http;msgtype=response \\
Content-Length: 1600 \\
HTTP/1.1 200 OK \\
Date: Tue, 19 Sep 2006 17:18:40 GMT \\
Server: Apache/2.0.54 (Ubuntu) \\
Last-Modified: Mon, 16 Jun 2003 22:28:51 GMT \\
ETag: "3e45-67e-2ed02ec0" \\
Accept-Ranges: bytes \\
Content-Length: 1662 \\
Connection: close \\
Content-Type: image/jpeg }
\subsection*{Navazující záznam}
\texttt{WARC/0.18 \\
WARC-Type: continuation \\
WARC-Target-URI: http://www.archive.org/images/logoc.jpg \\
WARC-Date: 2006-09-19T17:20:24Z \\
WARC-Block-Digest: sha1:T7HXETFVA92MSS7ZENMFZY6ND6WF7KB7 \\
WARC-Record-ID: \\ \indent <<urn:uuid:70653950-a77f-b212-e434-7a7c6ec909ef>> \\
WARC-Segment-Origin-ID: \\ \indent <<urn:uuid:39509228-ae2f-11b2-763a-aa4c6ec90bb0>> \\
WARC-Segment-Number: 2 \\
WARC-Segment-Total-Length: 1902 \\
WARC-Identified-Payload-Type: image/jpeg \\
Content-Length: 302 \\
<<last 302 bytes of image/jpeg binary data here>> }